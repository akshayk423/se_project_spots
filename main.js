!function(){"use strict";var e="";const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_type_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=(e,t,o)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(o.inputErrorClass),n.textContent="",n.classList.add(o.errorClass)},n=(e,t,o)=>{(e=>e.some(e=>!e.validity.valid))(e)?r(t,o):s(t,o)},r=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},s=(e,t)=>{e.classList.remove(t.inactiveButtonClass),e.disabled=!1};var a=e+"d3610e9c6dce3cb370d8.svg",c=e+"ca4fecfc9d926c775aef.png",l=e+"1ecf96fab54a91c898b4.svg",i=e+"40608da7369d39bc1077.svg";document.getElementById("spots-logo").src=a,document.getElementById("bessie-coleman-avatar").src=c,document.getElementById("edit-icon").src=l,document.getElementById("plus-icon").src=i;const u=document.querySelector(".profile__edit-profile-btn"),d=document.querySelector("#edit-profile-modal"),m=document.forms.profile,p=(m.querySelector(".modal__submit"),document.querySelector(".profile__new-post-btn")),f=document.querySelector("#new-post-modal"),_=document.forms.newPost,y=_.querySelector(".modal__submit"),v=document.querySelector(".profile__column"),b=v.querySelector(".profile__name"),S=v.querySelector(".profile__description"),g=d.querySelector("#profile-name-input"),q=d.querySelector("#describe-input"),h=f.querySelector("#image-link-input"),w=f.querySelector("#caption-input"),E=document.querySelector(".cards__list"),L=document.querySelector("#modal-image"),k=L.querySelector(".modal__image"),C=L.querySelector(".modal__caption"),x=document.querySelector("#card-template").content;function A(e){"Escape"===e.key&&z(document.querySelector(".modal_is-opened"))}function B(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",A)}function z(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",A)}function j(e,t="prepend"){const o=function(e){const t=x.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__text"),n=t.querySelector(".card__image");n.setAttribute("src",e.link),n.setAttribute("alt",e.name),o.textContent=e.name;const r=t.querySelector(".card__like-btn");return r.addEventListener("click",()=>{r.classList.toggle("card__like-btn_liked")}),t.querySelector(".card__delete-btn").addEventListener("click",()=>{t.remove()}),n.addEventListener("click",()=>{k.setAttribute("src",e.link),k.setAttribute("alt",e.name),C.textContent=e.name,B(L)}),t}(e);E[t](o)}var I;document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("mousedown",t=>{(t.target===e||t.target.classList.contains("modal__close-btn"))&&z(e)})}),u.addEventListener("click",function(){B(d),g.value=b.textContent,q.value=S.textContent,((e,t,r)=>{t.forEach(t=>{o(e,t,r)});const s=e.querySelector(r.submitButtonSelector);n(t,s,r)})(m,[g,q],t)}),p.addEventListener("click",function(){B(f)}),m.addEventListener("submit",e=>{e.preventDefault(),b.textContent=g.value,S.textContent=q.value,z(d)}),_.addEventListener("submit",e=>{e.preventDefault(),j({name:w.value,link:h.value}),_.reset(),r(y,t),z(f)}),[{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach(e=>{j(e)}),I=t,Array.from(document.querySelectorAll(I.formSelector)).forEach(e=>{e.addEventListener("submit",function(e){e.preventDefault()}),((e,t)=>{const r=Array.from(e.querySelectorAll(t.inputSelector)),s=e.querySelector(t.submitButtonSelector);n(r,s,t),r.forEach(a=>{a.addEventListener("input",function(){((e,t,n)=>{t.validity.valid?o(e,t,n):((e,t,o,n)=>{const r=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),r.textContent=o,r.classList.add(n.errorClass)})(e,t,t.validationMessage,n)})(e,a,t),n(r,s,t)})})})(e,I)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixDQUFtQnJGLEVBQWFDLEVBQWNDLEdBQzlDUSxFQUFrQkMsRUFBV0MsRUFBZVYsRUFDOUMsTUFVQWtGLENBQWtCcEYsRUFBYUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovL0luc2VydCBwcm9qZWN0IG5hbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vSW5zZXJ0IHByb2plY3QgbmFtZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9JbnNlcnQgcHJvamVjdCBuYW1lLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vSW5zZXJ0IHByb2plY3QgbmFtZS8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXRcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXRfdHlwZV9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuZXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuZXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgIHNob3dJbnB1dEVycm9yKFxyXG4gICAgICBmb3JtRWxlbWVudCxcclxuICAgICAgaW5wdXRFbGVtZW50LFxyXG4gICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXHJcbiAgICAgIGNvbmZpZ1xyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZW5hYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGVuYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXQsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgKTtcclxuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCBjb25maWcpO1xyXG4gIH0pO1xyXG59O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQge1xyXG4gIHJlc2V0VmFsaWRhdGlvbixcclxuICBlbmFibGVWYWxpZGF0aW9uLFxyXG4gIGRpc2FibGVCdXR0b24sXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0ZS5qc1wiO1xyXG5cclxuaW1wb3J0IGxvZ29TcmMgZnJvbSBcIi4uL2ltYWdlcy9pY29ucy9sb2dvLnN2Z1wiO1xyXG5pbXBvcnQgYXZhdGFyU3JjIGZyb20gXCIuLi9pbWFnZXMvYmVzc2llLWNvbGVtYW4tYXZhdGFyLnBuZ1wiO1xyXG5pbXBvcnQgZWRpdEljb25TcmMgZnJvbSBcIi4uL2ltYWdlcy9pY29ucy9lZGl0LWljb24uc3ZnXCI7XHJcbmltcG9ydCBwbHVzSWNvblNyYyBmcm9tIFwiLi4vaW1hZ2VzL2ljb25zL3BsdXMuc3ZnXCI7XHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWwgVGhvcmVuc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzEtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJSZXN0YXVyYW50IHRlcnJhY2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy8yLXBob3RvLWJ5LWNlaWxpbmUtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkFuIG91dGRvb3IgY2FmZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzMtcGhvdG8tYnktdHViYW51ci1kb2dhbi1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQSB2ZXJ5IGxvbmcgYnJpZGdlLCBvdmVyIHRoZSBmb3Jlc3QgYW5kIHRocm91Z2ggdGhlIHRyZWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNC1waG90by1ieS1tYXVyaWNlLWxhc2NoZXQtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlR1bm5lbCB3aXRoIG1vcm5pbmcgbGlnaHRcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy81LXBob3RvLWJ5LXZhbi1hbmgtbmd1eWVuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJNb3VudGFpbiBob3VzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzYtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG4vL2ltYWdlIGltcG9ydHNcclxuY29uc3Qgc3BvdHNMb2dvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcG90cy1sb2dvXCIpO1xyXG5zcG90c0xvZ28uc3JjID0gbG9nb1NyYztcclxuXHJcbmNvbnN0IGJlc3NpZUNvbG1hbkF2YXRhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmVzc2llLWNvbGVtYW4tYXZhdGFyXCIpO1xyXG5iZXNzaWVDb2xtYW5BdmF0YXIuc3JjID0gYXZhdGFyU3JjO1xyXG5cclxuY29uc3QgZWRpdEljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXQtaWNvblwiKTtcclxuZWRpdEljb24uc3JjID0gZWRpdEljb25TcmM7XHJcblxyXG5jb25zdCBwbHVzSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1cy1pY29uXCIpO1xyXG5wbHVzSWNvbi5zcmMgPSBwbHVzSWNvblNyYztcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LXByb2ZpbGUtYnRuXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XHJcbi8vIGNvbnN0IGVkaXRQcm9maWxlQ2xvc2VCdG4gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZTtcclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtU3VibWl0QnRuID1cclxuICBlZGl0UHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0XCIpO1xyXG5cclxuY29uc3QgbmV3UG9zdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmV3LXBvc3QtYnRuXCIpO1xyXG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xyXG4vLyBjb25zdCBuZXdQb3N0Q2xvc2VCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xyXG5jb25zdCBuZXdQb3N0Rm9ybSA9IGRvY3VtZW50LmZvcm1zLm5ld1Bvc3Q7XHJcbmNvbnN0IG5ld1Bvc3RGb3JtU3VibWl0QnRuID0gbmV3UG9zdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0XCIpO1xyXG5cclxuLy8gZ2V0IHByb2ZpbGUgbmFtZSBhbmQgZGVzY3JpcHRpb25cclxuY29uc3QgcHJvZmlsZUluZm9ybWF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19jb2x1bW5cIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZUluZm9ybWF0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gcHJvZmlsZUluZm9ybWF0aW9uLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5cclxuLy8gZ2V0IGlucHV0IGVsZW1lbnRzIGZyb20gdGhlIG1vZGFsc1xyXG5jb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPVxyXG4gIGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNkZXNjcmliZS1pbnB1dFwiKTtcclxuXHJcbmNvbnN0IGltYWdlTGlua0lucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbGluay1pbnB1dFwiKTtcclxuY29uc3QgY2FwdGlvbklucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FwdGlvbi1pbnB1dFwiKTtcclxuXHJcbmNvbnN0IGNhcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuLy9tb2RhbCBwcmV2aWV3IGVsZW1lbnRzXHJcbmNvbnN0IG1vZGFsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWltYWdlXCIpO1xyXG5jb25zdCBtb2RhbEltYWdlUHJldmlldyA9IG1vZGFsSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbmNvbnN0IGNhcHRpb24gPSBtb2RhbEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcblxyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIikuY29udGVudDtcclxuXHJcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFc2NhcGUoZXZ0KSB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG9wZW5Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfaXMtb3BlbmVkXCIpO1xyXG4gICAgY2xvc2VNb2RhbChvcGVuTW9kYWwpO1xyXG4gIH1cclxufVxyXG5cclxubW9kYWxzLmZvckVhY2goKG1vZGFsKSA9PiB7XHJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGV2dC50YXJnZXQgPT09IG1vZGFsIHx8XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ0blwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGV4dFwiKTtcclxuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cclxuICBjYXJkSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGRhdGEubGluayk7XHJcbiAgY2FyZEltYWdlLnNldEF0dHJpYnV0ZShcImFsdFwiLCBkYXRhLm5hbWUpO1xyXG4gIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuXHJcbiAgY29uc3QgY2FyZExpa2VCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xyXG4gIGNhcmRMaWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkTGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNhcmREZWxldGVCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XHJcbiAgY2FyZERlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfSk7XHJcblxyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9kYWxJbWFnZVByZXZpZXcuc2V0QXR0cmlidXRlKFwic3JjXCIsIGRhdGEubGluayk7XHJcbiAgICBtb2RhbEltYWdlUHJldmlldy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgZGF0YS5uYW1lKTtcclxuICAgIGNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICBvcGVuTW9kYWwobW9kYWxJbWFnZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUpO1xyXG59XHJcblxyXG5lZGl0UHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgcmVzZXRWYWxpZGF0aW9uKFxyXG4gICAgZWRpdFByb2ZpbGVGb3JtLFxyXG4gICAgW3Byb2ZpbGVOYW1lSW5wdXQsIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcclxuICAgIHZhbGlkYXRpb25Db25maWdcclxuICApO1xyXG59KTtcclxuXHJcbm5ld1Bvc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlTmFtZUlucHV0LnZhbHVlO1xyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlO1xyXG4gIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn0pO1xyXG5cclxubmV3UG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgZGF0YSA9IHtcclxuICAgIG5hbWU6IGNhcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIGxpbms6IGltYWdlTGlua0lucHV0LnZhbHVlLFxyXG4gIH07XHJcbiAgcmVuZGVyQ2FyZChkYXRhKTtcclxuICBuZXdQb3N0Rm9ybS5yZXNldCgpO1xyXG4gIGRpc2FibGVCdXR0b24obmV3UG9zdEZvcm1TdWJtaXRCdG4sIHZhbGlkYXRpb25Db25maWcpO1xyXG4gIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gIHJlbmRlckNhcmQoY2FyZCk7XHJcbn0pO1xyXG5cclxuLy8gVGhlIGZ1bmN0aW9uIGFjY2VwdHMgYSBjYXJkIG9iamVjdCBhbmQgYSBtZXRob2Qgb2YgYWRkaW5nIHRvIHRoZSBzZWN0aW9uXHJcbi8vIFRoZSBtZXRob2QgaXMgaW5pdGlhbGx5IGBwcmVwZW5kYCwgYnV0IHlvdSBjYW4gcGFzcyBgYXBwZW5kYFxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0sIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcclxuICAvLyBBZGQgdGhlIGNhcmQgaW50byB0aGUgc2VjdGlvbiB1c2luZyB0aGUgbWV0aG9kXHJcbiAgY2FyZENvbnRhaW5lclttZXRob2RdKGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiY29uZmlnIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJhZGQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJkaXNhYmxlZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzcmMiLCJsb2dvU3JjIiwiYXZhdGFyU3JjIiwiZWRpdEljb25TcmMiLCJwbHVzSWNvblNyYyIsImVkaXRQcm9maWxlQnRuIiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRQcm9maWxlRm9ybSIsImZvcm1zIiwicHJvZmlsZSIsIm5ld1Bvc3RCdG4iLCJuZXdQb3N0TW9kYWwiLCJuZXdQb3N0Rm9ybSIsIm5ld1Bvc3QiLCJuZXdQb3N0Rm9ybVN1Ym1pdEJ0biIsInByb2ZpbGVJbmZvcm1hdGlvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwiaW1hZ2VMaW5rSW5wdXQiLCJjYXB0aW9uSW5wdXQiLCJjYXJkQ29udGFpbmVyIiwibW9kYWxJbWFnZSIsIm1vZGFsSW1hZ2VQcmV2aWV3IiwiY2FwdGlvbiIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJoYW5kbGVFc2NhcGUiLCJldnQiLCJrZXkiLCJjbG9zZU1vZGFsIiwib3Blbk1vZGFsIiwibW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlckNhcmQiLCJpdGVtIiwibWV0aG9kIiwiY2FyZEVsZW1lbnQiLCJkYXRhIiwiY2xvbmVOb2RlIiwiY2FyZFRpdGxlIiwiY2FyZEltYWdlIiwic2V0QXR0cmlidXRlIiwibGluayIsIm5hbWUiLCJjYXJkTGlrZUJ0biIsInRvZ2dsZSIsImdldENhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJ0YXJnZXQiLCJjb250YWlucyIsInZhbHVlIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiY2FyZCIsIkFycmF5IiwiZnJvbSIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=